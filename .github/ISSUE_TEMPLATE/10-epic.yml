name: Epic Issue
description: Create a new Epic - large cross-BC feature (based on SDA-01 Event Storming)
title: "[EPIC-XX] "
labels: ["epic"]
assignees: []

body:
  - type: markdown
    attributes:
      value: |
        ## üìã Epic Overview

        √âpicos s√£o grandes funcionalidades que atravessam m√∫ltiplos Bounded Contexts (cross-BC).
        Baseie-se em **SDA-01 Event Storming** e **SDA-02 Context Map** para definir o √©pico.

        **√âpicos planejados (SDA-02):**
        - EPIC-01: Cria√ß√£o e An√°lise de Estrat√©gias
        - EPIC-02: Execu√ß√£o e Monitoramento de Estrat√©gias
        - EPIC-03: Gest√£o de Risco e Controle Financeiro
        - EPIC-04: Comunidade e Compartilhamento
        - EPIC-05: Servi√ßos para Consultores
        - EPIC-06: Backtesting e An√°lise Avan√ßada (Futuro)
        - EPIC-07: Execu√ß√£o Automatizada de Ordens (Futuro)

  - type: input
    id: epic-number
    attributes:
      label: Epic Number
      description: N√∫mero do √©pico (ex: EPIC-01, EPIC-02)
      placeholder: "EPIC-01"
    validations:
      required: true

  - type: textarea
    id: objectives
    attributes:
      label: üéØ Objectives
      description: Principais objetivos de neg√≥cio deste √©pico
      placeholder: |
        - Permitir que traders criem estrat√©gias com op√ß√µes/a√ß√µes
        - Fornecer c√°lculos autom√°ticos de margem e risco
        - Suportar templates reutiliz√°veis
    validations:
      required: true

  - type: textarea
    id: bounded-contexts
    attributes:
      label: üèóÔ∏è Bounded Contexts Involved
      description: Quais Bounded Contexts est√£o envolvidos (conforme SDA-02)
      placeholder: |
        - **Strategy Planning** (Core) - cria√ß√£o de estrat√©gias
        - **Risk Management** (Core) - valida√ß√£o de risco
        - **Market Data** (Supporting) - pre√ßos e volatilidade
        - **User Management** (Generic) - autentica√ß√£o e perfil
    validations:
      required: true

  - type: textarea
    id: user-stories
    attributes:
      label: üìñ Key User Stories
      description: Principais user stories deste √©pico (ver SDA-02 para detalhes)
      placeholder: |
        - [ ] Como trader, quero criar templates definindo estrutura/topologia
        - [ ] Como trader, quero instanciar template em ativo espec√≠fico
        - [ ] Como trader, quero ver c√°lculos autom√°ticos de margem
        - [ ] Como trader, quero validar estrat√©gia contra meu perfil de risco
    validations:
      required: true

  - type: textarea
    id: acceptance-criteria
    attributes:
      label: ‚úÖ Acceptance Criteria
      description: Crit√©rios de aceita√ß√£o em alto n√≠vel para o √©pico
      placeholder: |
        - [ ] Todos BCs envolvidos implementados (core domain logic)
        - [ ] User stories principais conclu√≠das
        - [ ] Testes de integra√ß√£o entre BCs passando
        - [ ] Documenta√ß√£o de API atualizada
        - [ ] Deploy em staging testado
    validations:
      required: true

  - type: textarea
    id: deliverables
    attributes:
      label: üì¶ Deliverables (por Agent)
      description: Entreg√°veis esperados de cada agent respons√°vel
      placeholder: |
        **DE (Domain Engineer - Backend):**
        - [ ] Aggregates, Entities, Value Objects (core domain)
        - [ ] Domain Services e Application Services
        - [ ] API endpoints (REST)
        - [ ] Unit tests (dom√≠nio)

        **FE (Frontend Engineer):**
        - [ ] Componentes Vue 3 (UI)
        - [ ] State management (Pinia stores)
        - [ ] Integration com API backend
        - [ ] Unit tests (Vitest)

        **DBA (Database Architect):**
        - [ ] Schema PostgreSQL (migrations)
        - [ ] √çndices e constraints
        - [ ] Seed data (se aplic√°vel)

        **QAE (Quality Assurance Engineer):**
        - [ ] Integration tests (TestContainers)
        - [ ] E2E tests (Playwright)
        - [ ] Performance tests (se cr√≠tico)

        **SEC (Security Specialist):**
        - [ ] Security review (authn/authz)
        - [ ] Input validation review
        - [ ] LGPD compliance check (se dados sens√≠veis)
    validations:
      required: true

  - type: textarea
    id: definition-of-done
    attributes:
      label: ‚úÖ Definition of Done
      description: Checklist completo para considerar √©pico conclu√≠do
      placeholder: |
        **Code:**
        - [ ] Todos deliverables implementados (DE, FE, DBA)
        - [ ] Code review aprovado (peer review)
        - [ ] No code smells cr√≠ticos (SonarQube)

        **Testing:**
        - [ ] Unit tests: >80% coverage (backend + frontend)
        - [ ] Integration tests passando (cross-BC)
        - [ ] E2E tests cr√≠ticos passando (Playwright)
        - [ ] Performance acceptable (se aplic√°vel)

        **Security:**
        - [ ] Security review completo (SEC agent)
        - [ ] Dependency vulnerabilities resolvidas (Snyk/npm audit)
        - [ ] LGPD compliance validado (se dados sens√≠veis)

        **Documentation:**
        - [ ] API documentation atualizada (Swagger/OpenAPI)
        - [ ] Architecture Decision Records (ADR) criados
        - [ ] User documentation atualizada

        **Deploy:**
        - [ ] Deploy em staging bem-sucedido
        - [ ] Smoke tests em staging passando
        - [ ] Rollback plan documentado
        - [ ] Production deploy aprovado pelo PO
    validations:
      required: true

  - type: dropdown
    id: priority
    attributes:
      label: Priority
      description: Prioridade do √©pico
      options:
        - "1 - Critical (MVP blocker)"
        - "2 - High (MVP essential)"
        - "3 - Medium (nice to have)"
        - "4 - Low (future enhancement)"
    validations:
      required: true

  - type: dropdown
    id: milestone
    attributes:
      label: Milestone
      description: Milestone associado (conforme SDA-02)
      options:
        - "M0: Discovery Foundation"
        - "M1: EPIC-01 - Cria√ß√£o e An√°lise de Estrat√©gias"
        - "M2: EPIC-02 - Execu√ß√£o e Monitoramento"
        - "M3: EPIC-03 - Gest√£o de Risco"
        - "M4: EPIC-04 - Comunidade"
        - "M5: EPIC-05 - Servi√ßos Consultores"
        - "M6: EPIC-06 - Backtesting (Futuro)"
        - "M7: EPIC-07 - Execu√ß√£o Automatizada (Futuro)"
    validations:
      required: true

  - type: dropdown
    id: business-value
    attributes:
      label: Business Value
      description: Valor de neg√≥cio do √©pico
      options:
        - "High - Core domain differentiation"
        - "Medium - Supporting feature"
        - "Low - Generic/commodity"
    validations:
      required: true

  - type: textarea
    id: dependencies
    attributes:
      label: üîó Dependencies
      description: Depend√™ncias de outros √©picos ou issues
      placeholder: |
        - Depende de: #X (outro √©pico)
        - Bloqueia: #Y (pr√≥ximo √©pico)
        - Requer: PE-00 (infra setup), SEC-00 (security baseline)

  - type: textarea
    id: risks
    attributes:
      label: ‚ö†Ô∏è Risks & Mitigation
      description: Riscos identificados e estrat√©gias de mitiga√ß√£o
      placeholder: |
        - **Risco:** Complexidade c√°lculo margem B3
          **Mitiga√ß√£o:** Consultar Simulador B3, criar spike t√©cnico
        - **Risco:** Integra√ß√£o tempo real (SignalR)
          **Mitiga√ß√£o:** POC separado antes de implementa√ß√£o completa

  - type: textarea
    id: additional-context
    attributes:
      label: Additional Context
      description: Informa√ß√µes adicionais, links, refer√™ncias
      placeholder: |
        - Ver SDA-02 Context Map (se√ß√£o √©pico correspondente)
        - Ver SDA-01 Event Storming (processos de neg√≥cio)
        - Simulador B3: https://simulador.b3.com.br/
