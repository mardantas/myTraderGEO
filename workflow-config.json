{
  "version": "2.1",
  "description": "DDD Workflow - 10 Agents Process (Production-Ready)",
  "updated": "2025-10-08",

  "paths": {
    "doc-root": "00-doc-ddd/",
    "feedback": "00-doc-ddd/00-feedback/",
    "inputs": "00-doc-ddd/01-inputs-raw/",
    "strategic-design": "00-doc-ddd/02-strategic-design/",
    "ux-design": "00-doc-ddd/03-ux-design/",
    "tactical-design": "00-doc-ddd/04-tactical-design/",
    "database-design": "00-doc-ddd/05-database-design/",
    "quality-assurance": "00-doc-ddd/06-quality-assurance/",
    "github-management": "00-doc-ddd/07-github-management/",
    "platform-engineering": "00-doc-ddd/08-platform-engineering/",
    "security": "00-doc-ddd/09-security/",

    "frontend-code": "01-frontend/",
    "backend-code": "02-backend/",
    "github-scripts": "03-github-manager/",
    "database-scripts": "04-database/",

    "agents-config": ".agents/",
    "agents-specs": ".agents/",
    "templates": ".agents/templates/",
    "workflow": ".agents/workflow/",
    "checklists": ".agents/workflow/02-checklists/",
    "validation-scripts": ".agents/workflow/01-validation-scripts/",

    "standards": {
      "nomenclature": ".agents/02-Nomenclature-Standards.md",
      "security-platform": ".agents/03-Security-And-Platform-Strategy.md",
      "ddd-patterns": ".agents/04-DDD-Patterns-Reference.md",
      "api-standards": ".agents/05-API-Standards.md"
    }
  },

  "agents": {
    "10-SDA": {
      "name": "Strategic Domain Analyst",
      "spec": ".agents/10-SDA - Strategic Domain Analyst.xml",
      "checklist": ".agents/workflow/02-checklists/SDA-checklist.yml",
      "checklist-type": "guidelines",
      "phase": "discovery",
      "executes": "once"
    },
    "15-DE": {
      "name": "Domain Engineer",
      "spec": ".agents/15-DE - Domain Engineer.xml",
      "checklist": ".agents/workflow/02-checklists/DE-checklist.yml",
      "checklist-type": "required",
      "phase": "discovery-and-iteration",
      "executes": "discovery-once-plus-per-epic"
    },
    "20-UXD": {
      "name": "User Experience Designer",
      "spec": ".agents/20-UXD - User Experience Designer.xml",
      "checklist": ".agents/workflow/02-checklists/UXD-checklist.yml",
      "checklist-type": "guidelines",
      "phase": "discovery",
      "executes": "once-plus-adjustments"
    },
    "25-GM": {
      "name": "GitHub Manager",
      "spec": ".agents/25-GM - GitHub Manager.xml",
      "checklist": ".agents/workflow/02-checklists/GM-checklist.yml",
      "checklist-type": "guidelines",
      "phase": "discovery-and-iteration",
      "executes": "setup-plus-per-epic"
    },
    "30-PE": {
      "name": "Platform Engineer",
      "spec": ".agents/30-PE - Platform Engineer.xml",
      "checklist": ".agents/workflow/02-checklists/PE-checklist.yml",
      "checklist-type": "required",
      "phase": "discovery-and-iteration",
      "executes": "setup-plus-continuous"
    },
    "35-SEC": {
      "name": "Security Specialist",
      "spec": ".agents/35-SEC - Security Specialist.xml",
      "checklist": ".agents/workflow/02-checklists/SEC-checklist.yml",
      "checklist-type": "required",
      "phase": "discovery-and-iteration",
      "executes": "setup-plus-continuous"
    },
    "45-SE": {
      "name": "Software Engineer",
      "spec": ".agents/45-SE - Software Engineer.xml",
      "checklist": ".agents/workflow/02-checklists/SE-checklist.yml",
      "checklist-type": "required",
      "phase": "iteration",
      "executes": "per-epic"
    },
    "50-DBA": {
      "name": "Database Administrator",
      "spec": ".agents/50-DBA - Database Administrator.xml",
      "checklist": ".agents/workflow/02-checklists/DBA-checklist.yml",
      "checklist-type": "required",
      "phase": "iteration",
      "executes": "per-epic"
    },
    "55-FE": {
      "name": "Frontend Engineer",
      "spec": ".agents/55-FE - Frontend Engineer.xml",
      "checklist": ".agents/workflow/02-checklists/FE-checklist.yml",
      "checklist-type": "required",
      "phase": "iteration",
      "executes": "per-epic"
    },
    "60-QAE": {
      "name": "Quality Assurance Engineer",
      "spec": ".agents/60-QAE - Quality Assurance Engineer.xml",
      "checklist": ".agents/workflow/02-checklists/QAE-checklist.yml",
      "checklist-type": "required",
      "phase": "iteration",
      "executes": "per-epic"
    }
  },

  "workflow-phases": {
    "phase-1-discovery": {
      "description": "Strategic analysis, domain overview, UX design, infrastructure setup, security baseline (1x per project)",
      "agents": ["10-SDA", "15-DE", "20-UXD", "25-GM", "30-PE", "35-SEC"],
      "output": "BCs, Epics, Aggregates Overview, User Flows, GitHub Setup, Infrastructure Design, Threat Model",
      "duration": "5-7 days",
      "deliverables": "13-16 documents"
    },
    "phase-2-iteration": {
      "description": "Epic implementation + continuous platform/security hardening (N iterations)",
      "agents": ["15-DE", "45-SE", "50-DBA", "55-FE", "60-QAE", "30-PE", "35-SEC"],
      "output": "Domain Model + Backend Code + Frontend + Tests + Infrastructure + Security",
      "duration": "1-2 weeks per epic",
      "deliverables": "6-9 documents + code + infra"
    }
  },

  "validation": {
    "nomenclature_validation": true,
    "template_compliance": true,
    "min_quality_score": 70,
    "definition_of_done": true,
    "scripts": {
      "nomenclature": ".agents/workflow/validate-nomenclature.ps1",
      "structure": ".agents/workflow/validate-structure.ps1"
    }
  },

  "checklist-strategy": {
    "description": "Opção 2: Manter apenas checklists críticos para produção",
    "required-checklists": ["DE", "SE", "DBA", "FE", "QAE", "PE", "SEC"],
    "guideline-checklists": ["SDA", "UXD", "GM"],
    "note": "Required checklists = gates de qualidade obrigatórios. Guidelines = boas práticas recomendadas mas não bloqueantes.",
    "total-required-checks": 50,
    "breakdown": {
      "PE": "23 checks essenciais (infra, observability, DR)",
      "SEC": "19 checks essenciais (LGPD, pentest, incident response)",
      "DE-SE-DBA-FE-QAE": "checklists simplificados (~5-10 checks cada)"
    }
  },

  "epic-strategy": "functionality-based",
  "epic-strategy-note": "Epics by functionality (cross-BC), not by Bounded Context. Each epic delivers end-to-end value.",

  "feedback-system": {
    "enabled": true,
    "format": "FEEDBACK-[NNN]-[FROM]-[TO]-[title].md",
    "path": "00-doc-ddd/00-feedback/",
    "unified": true,
    "guide": ".agents/workflow/FEEDBACK-FLOW-GUIDE.md",
    "template": ".agents/templates/07-feedback/FEEDBACK.template.md",
    "note": "Single feedback mechanism (no separate change-request)"
  },

  "quality-metrics": {
    "time-per-epic": "1-2 weeks",
    "docs-per-epic": "3-5 documents",
    "deploy-frequency": "per epic (1-2 weeks)",
    "documentation-overhead": "<30% of time"
  },

  "think-mode-policy": {
    "description": "Think mode (planning) garante transparência, previne erros e permite revisão antes da execução",
    "mandatory-agents": ["SDA", "PE", "SEC"],
    "recommended-agents": ["DE", "UXD"],
    "optional-agents": ["DBA", "FE", "QAE", "GM"],
    "triggers": {
      "always-use-when": [
        "Tarefa envolve >3 deliverables",
        "Mudanças em infraestrutura (IaC, networking, observability)",
        "Mudanças de segurança críticas (threat model, pentest, compliance)",
        "Múltiplos arquivos afetados (>5)",
        "Event Storming ou strategic design completo",
        "Setup inicial de qualquer agente crítico"
      ],
      "optional-when": [
        "Tarefa simples e bem definida (<3 arquivos)",
        "Leitura apenas (sem modificações)",
        "Correções triviais (typos, formatação)"
      ]
    },
    "implementation": {
      "tool": "TodoWrite",
      "workflow": [
        "1. Agente recebe tarefa complexa",
        "2. Agente usa TodoWrite para criar plano (sub-tarefas, dependências, riscos)",
        "3. Usuário revisa plano e aprova/ajusta",
        "4. Agente executa marcando progresso (pending → in_progress → completed)"
      ]
    },
    "benefits": [
      "Transparência total do que será feito",
      "Previne erros custosos em infra/segurança",
      "Permite revisão e ajustes antes da execução",
      "Rastreabilidade completa de tarefas",
      "Facilita debugging quando algo falha"
    ],
    "guide": ".agents/workflow/THINK-MODE-GUIDE.md"
  }
}
