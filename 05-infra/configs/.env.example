# ==================================
# myTraderGEO - Environment Variables
# ==================================
# Copy this file to .env and fill with your values
# WARNING: Never commit .env to version control!

# ==================================
# USAGE INSTRUCTIONS
# ==================================
# Create SEPARATE .env files for each environment:
# - .env.dev         (local development - copy this file)
# - .env.staging     (staging server - different secrets!)
# - .env.production  (production server - strong secrets!)
#
# Docker Compose commands MUST use --env-file explicitly:
#   docker compose -f docker-compose.yml --env-file .env.dev up
#
# Add to .gitignore:
#   .env*
#   !.env.example
#
# NEVER commit actual .env files to git!
# ==================================

# ==================================
# Database Configuration
# ==================================
# PostgreSQL Admin User (DBA tasks only - DO NOT use in application!)
DB_USER=postgres
DB_PASSWORD=your_secure_postgres_password_here

# Application Database Users (created by init script)
DB_APP_USER=mytrader_app
DB_APP_PASSWORD=your_secure_app_password_here
DB_READONLY_USER=mytrader_readonly
DB_READONLY_PASSWORD=your_secure_readonly_password_here

# Database Names
DB_NAME_DEV=mytrader_dev
DB_NAME_STAGING=mytrader_staging
DB_NAME_PRODUCTION=mytrader_prod

# Connection Strings for Application (uses DB_APP_USER)
DATABASE_URL_DEV=Host=database;Port=5432;Database=mytrader_dev;Username=${DB_APP_USER};Password=${DB_APP_PASSWORD}
DATABASE_URL_STAGING=Host=database;Port=5432;Database=mytrader_staging;Username=${DB_APP_USER};Password=${DB_APP_PASSWORD}
DATABASE_URL_PRODUCTION=Host=database;Port=5432;Database=mytrader_prod;Username=${DB_APP_USER};Password=${DB_APP_PASSWORD}

# ==================================
# JWT Authentication
# ==================================
JWT_SECRET=change-this-to-a-secure-random-string-minimum-32-characters-long
JWT_ISSUER=myTraderGEO
JWT_AUDIENCE=myTraderGEO
JWT_EXPIRATION_MINUTES_DEV=60
JWT_EXPIRATION_MINUTES_STAGING=60
JWT_EXPIRATION_MINUTES_PRODUCTION=15

# ==================================
# Docker Registry
# ==================================
DOCKER_REGISTRY=ghcr.io/seu-usuario
VERSION=latest

# ==================================
# Domain Configuration (Traefik + Cloudflare)
# ==================================
# Your main domain (without protocol)
DOMAIN=mytrader.com

# Let's Encrypt email for SSL certificates
ACME_EMAIL=admin@mytrader.com

# Traefik Dashboard Authentication
# Generate with: htpasswd -nb admin your_password
# Example: admin:$apr1$xyz...
TRAEFIK_DASHBOARD_AUTH=admin:$$apr1$$H6uskkkW$$IgXLP6ewTrSuBkTrqE8wj/

# ==================================
# Traefik Dashboard Security (Production)
# ==================================
# IP Whitelist (OPTIONAL - only if you have static IP)
# If you have dynamic IP (home/4G), basic auth above is sufficient.
#
# To enable IP whitelist, uncomment and set your public IP:
# YOUR_IP_ADDRESS=203.0.113.0/32
#
# Get your public IP: https://ifconfig.me
#
# For better security with dynamic IP, consider (Epic 2+):
# - Cloudflare Access (Zero Trust authentication)
# - VPN with static IP (Tailscale, WireGuard)
# - Disable dashboard in production (use SSH port-forward for maintenance)

# ==================================
# Cloudflare Configuration (Optional)
# ==================================
# If using Cloudflare DNS challenge instead of HTTP challenge
# CLOUDFLARE_EMAIL=your_email@example.com
# CLOUDFLARE_API_KEY=your_cloudflare_api_key

# ==================================
# LGPD Compliance (Optional - Epic 2+)
# ==================================
LGPD_DATA_RETENTION_DAYS=730
LGPD_ANONYMIZATION_ENABLED=true

# ==================================
# External Integrations (Epic 3+)
# ==================================
# B3 Market Data
B3_API_KEY=your_b3_api_key_here
B3_API_SECRET=your_b3_api_secret_here
B3_WEBSOCKET_URL=wss://marketdata.b3.com.br

# Broker Integration (Future)
BROKER_API_ENDPOINT=https://broker-api.example.com
BROKER_API_KEY=your_broker_api_key_here

# ==================================
# Monitoring & Observability (Epic 4+)
# ==================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
GRAFANA_ADMIN_PASSWORD=your_grafana_password_here

# ==================================
# Email Notifications (Epic 5+)
# ==================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_email_password_here
SMTP_FROM=noreply@mytrader.com

# ==================================
# Backup Configuration
# ==================================
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=mytrader-backups
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
